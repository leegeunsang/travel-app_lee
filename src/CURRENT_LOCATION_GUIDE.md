# 현재 위치 기반 추천 기능 가이드

## 🌍 개요

사용자의 현재 위치를 자동으로 감지하여 주변 여행지를 추천하는 기능입니다.

## 🚀 사용 방법

### 1. 검색 페이지 접근
- 홈 화면에서 "여행지 검색" 버튼 클릭
- 또는 하단 네비게이션에서 검색 아이콘 클릭

### 2. 현재 위치 버튼 클릭
- **"현재 위치에서 찾기"** 버튼을 클릭합니다
- 브라우저에서 위치 권한 요청이 표시됩니다

### 3. 위치 권한 허용
- **"허용"** 버튼을 클릭하여 위치 접근 권한을 부여합니다
- 한 번 허용하면 이후에는 자동으로 위치를 가져옵니다

### 4. 자동 추천
- 현재 위치가 감지되면 해당 지역의 여행지가 자동으로 추천됩니다
- 여행 성향 분석 설문으로 이동합니다

## 🔧 필요한 설정

### 1. 서버 측 설정 (자동)

Kakao REST API 키는 **서버에서 자동으로 관리**되므로, 추가 설정이 필요하지 않습니다.

서버 환경변수 `KAKAO_REST_API_KEY`가 이미 설정되어 있습니다.

### 2. 위치 권한만 허용하면 됩니다

브라우저에서 위치 권한 요청이 표시되면 **"허용"**을 클릭하세요.

## 🌐 브라우저 호환성

### 지원 브라우저
- ✅ Chrome 50+
- ✅ Firefox 55+
- ✅ Safari 10+
- ✅ Edge 79+
- ✅ Opera 37+

### HTTPS 요구사항
- **개발 환경**: `localhost`에서는 HTTP로 작동
- **프로덕션**: HTTPS 필수 (보안 정책)

## ❗ 문제 해결

### "위치 정보 접근이 거부되었습니다" 오류

이 오류는 브라우저에서 위치 권한을 거부했을 때 발생합니다.

**✨ 자동 안내 기능**
- 위치 권한이 거부되면 화면에 자동으로 도움말이 표시됩니다
- 현재 사용 중인 브라우저에 맞는 설정 방법을 안내합니다

**📝 수동 설정 방법**

**Chrome**
1. 주소창 왼쪽의 자물쇠 아이콘 클릭
2. "사이트 설정" 선택
3. "위치" 권한을 "허용"으로 변경
4. 페이지 새로고침

**Firefox**
1. 주소창 왼쪽의 자물쇠 아이콘 클릭
2. "권한" > "위치 접근" 옆의 X 클릭
3. 페이지 새로고침하여 다시 허용

**Safari**
1. Safari > 환경설정 > 웹사이트 > 위치
2. 해당 사이트를 "허용"으로 변경

**Edge**
1. 주소창 왼쪽의 자물쇠 아이콘 클릭
2. "이 사이트의 권한" 선택
3. "위치" 권한을 "허용"으로 변경
4. 페이지 새로고침

### "위치 정보를 사용할 수 없습니다" 오류

1. **기기 위치 서비스 확인**
   - Windows: 설정 > 개인정보 > 위치
   - macOS: 시스템 환경설정 > 보안 및 개인정보 보호 > 위치 서비스
   - Android: 설정 > 위치
   - iOS: 설정 > 개인정보 보호 > 위치 서비스

2. VPN 사용 중이라면 일시적으로 비활성화

3. 와이파이 또는 셀룰러 데이터 연결 확인

### "주소를 찾을 수 없습니다" 오류

1. GPS 신호가 약할 수 있습니다 - 실외로 이동
2. 잠시 후 다시 시도
3. **대안**: 수동으로 지역 선택 사용

### "서버 오류" 또는 API 오류

1. 인터넷 연결 확인
2. 브라우저 콘솔(F12)에서 상세 오류 확인
3. 잠시 후 다시 시도
4. **대안**: 수동으로 지역 선택 사용

### 💡 권한 허용이 어려운 경우

**걱정하지 마세요!** 위치 권한 없이도 앱을 사용할 수 있습니다:

1. **인기 여행지** 버튼에서 선택
2. **지역별 탐색** 에서 원하는 지역 클릭
3. **검색창**에 지역명 입력

모든 기능이 동일하게 작동합니다.

## 🔒 개인정보 보호

- 위치 정보는 **서버에 저장되지 않습니다**
- 오직 현재 지역을 파악하는 용도로만 사용됩니다
- Kakao API를 통해 주소로 변환된 후 즉시 폐기됩니다
- 언제든지 브라우저 설정에서 위치 권한을 취소할 수 있습니다

## 🎯 작동 원리

```
1. 사용자가 "현재 위치에서 찾기" 클릭
   ↓
2. 브라우저 Geolocation API로 위도/경도 가져오기
   ↓
3. 서버에 좌표 전송
   ↓
4. 서버가 Kakao REST API로 좌표를 주소로 변환 (Reverse Geocoding)
   ↓
5. 주소에서 지역명 추출 (예: "서울", "부산", "제주")
   ↓
6. 해당 지역 기반 여행지 추천 시작
```

**보안**: REST API 키는 서버에만 저장되어 클라이언트에 노출되지 않습니다.

## 📱 모바일 환경

### iOS Safari
- 위치 권한 요청은 매번 표시될 수 있습니다
- "설정" > "Safari" > "위치"에서 "허용" 설정

### Android Chrome
- 처음 한 번만 권한을 요청합니다
- 권한 취소: 사이트 설정 > 권한 > 위치

## 💡 팁

1. **정확도 향상**: GPS를 켜고 실외에서 사용하세요
2. **빠른 접근**: 자주 사용하는 지역은 북마크에 저장하세요
3. **데이터 절약**: WiFi 연결 시 사용을 권장합니다
4. **오프라인**: 위치 기반 기능은 인터넷 연결이 필요합니다

## 🆘 지원

문제가 계속되면:
1. GitHub Issues에 문의
2. 개발자 도구(F12) > Console의 에러 메시지 캡처
3. 브라우저 및 OS 버전 명시
